.TH LVCONVERT 8 "LVM TOOLS #VERSION#" "Red Hat, Inc" \" -*- nroff -*-
.SH NAME
lvconvert \(em change LV type and other utilities
.
.SH SYNOPSIS

.B lvconvert
.RI [ OPTION ]...
.IR VolumeGroup / LogicalVolume

.SH DESCRIPTION

lvconvert changes the LV type and includes various LV utilities.

To display the current LV type, run the command:

.B lvs \-o name,segtype VG/LV

To change the LV type, run the command:

.B lvconvert \-\-type
.I NewType
.B VG/LV

.SS LV types

The LV type is also called the "segment type" or "segtype".

LVs with the following types can be modified by lvconvert:
.B striped,
.B snapshot,
.B mirror,
.B raid*,
.B thin,
.B cache,
.B thin\-pool,
.B cache\-pool.

The specific operations available on each LV type are listed below.

The
.B linear
type is equivalent to the
.B striped
type.  These may sometimes be used interchangably.

In most cases, the
.B mirror
type is deprecated and the
.B raid1
type should be used instead.  They are both implementations of
mirroring.

The
.B raid*
type refers to one of many raid levels, e.g.
.B raid1,
.B raid5.
See
.BR lvmraid (7)
for a full list.

.SS LV layers

In some cases, an LV is a single device mapper (dm) layer above physical
devices.  In other cases, layers of hidden LVs exists between the visible
LV and physical devices.  LVs in the middle layers are sometimes called
sub LVs.

Changing the LV type will often change the composition of sub LVs.

Sub LVs can be displayed with the command
.B lvs -a.

Sometimes, a command run on an LV may actually operate on a sub LV of
the specified LV.  These cases are noted below.


.SH COMMANDS

.SS Operations on a StripedLV with type striped or linear:

\&

.B lvconvert \-\-merge
VG/StripedLV
.br
\[bu]
Merge StripedLV into an LV when it is a previously split mirror.
.br
\[bu]
See --splitmirror.
.br
\[bu]
FIXME: use --merge-mirror

.B lvconvert \-\-type snapshot
VG/StripedLV VG/SnapshotLV
.br
\[bu]
Combine StripedLV with SnapshotLV which was previously split.
.br
\[bu]
See --splitsnapshot.

.B lvconvert \-\-type thin
VG/StripedLV
.br
\[bu]
Convert StripedLV to type thin with an external origin.
.br
\[bu]
Also specify a thin pool to use, see \-\-thinpool.

.B lvconvert \-\-type cache
VG/StripedLV
.br
\[bu]
Convert StripedLV to type cache.
.br
\[bu]
Also specify a cache pool to use, see \-\-cachepool.

.B lvconvert \-\-type thin\-pool
VG/StripedLV
.br
\[bu]
Convert StripedLV to type thin\-pool.

.B lvconvert \-\-type cache\-pool
VG/StripedLV
.br
\[bu]
Convert StripedLV to type cache\-pool.

.B lvconvert \-\-type mirror
VG/StripedLV
.br
\[bu]
Convert StripedLV to type mirror.
.br
\[bu]
Also specify the number of mirrors, see \-\-mirrors.

.B lvconvert \-\-type raid*
VG/StripedLV
.br
\[bu]
Convert StripedLV to type raid*.
.br
\[bu]
Also specify the number of mirrors, see \-\-mirrors.

.SS Operations on RaidLV with type raid*:

\&

.B lvconvert \-\-mirrors
Number
VG/RaidLV
.br
\[bu]
Change the number of images in RaidLV.

.B lvconvert \-\-splitmirrors
Number
VG/RaidLV
.br
\[bu]
Split images from RaidLV and use them to create a new LV.
.br
\[bu]
Also specify \-\-name for new LV, or use \-\-trackchanges.

.B lvconvert \-\-merge
VG/RaidLV
.br
\[bu]
Merge RaidLV into an LV when it is a previously split mirror.
.br
\[bu]
See --splitmirror.
.br
\[bu]
FIXME: use --merge-mirror

.B lvconvert \-\-repair
VG/RaidLV
.br
\[bu]
Replace failed PVs in RaidLV.

.B lvconvert \-\-replace
PV
VG/RaidLV
.br
\[bu]
Replace a specific PV in a raid* LV with another PV.
.br
\[bu]
The replacement PV can be optionally specified, see below.

.B lvconvert \-\-type snapshot
VG/RaidLV
VG/SnapshotLV
.br
\[bu]
Combine RaidLV with SnapshotLV that was previously split.
.br
\[bu]
See \-\-splitsnapshot.

.B lvconvert \-\-type thin
VG/RaidLV
.br
\[bu]
Convert RaidLV to type thin with an external origin.
.br
\[bu]
Also specify a thin pool to use, see \-\-thinpool.

.B lvconvert \-\-type cache
VG/RaidLV
.br
\[bu]
Convert RaidLV to type cache.
.br
\[bu]
Also specify a cache pool to use, see \-\-cachepool.

.B lvconvert \-\-type thin\-pool
VG/RaidLV
.br
\[bu]
Convert RaidLV to type thin\-pool.

.B lvconvert \-\-type cache\-pool
VG/RaidLV
.br
\[bu]
Convert RaidLV to type cache\-pool.

.B lvconvert \-\-type raid*
VG/RaidLV
.br
\[bu]
Convert RaidLV to use a different raid level.

.B lvconvert \-\-type striped
VG/RaidLV
.br
\[bu]
Convert RaidLV to type striped.

.B lvconvert \-\-type linear
VG/RaidLV
.br
\[bu]
Convert RaidLV to type linear.

.SS Operations on MirrorLV with type mirror:

\&

.B lvconvert \-\-mirrors
Number
VG/MirrorLV
.br
\[bu]
Change the number of images in MirrorLV.

.B lvconvert \-\-splitmirrors
Number
VG/MirrorLV
.br
\[bu]
Split images from MirrorLV and use them to create a new LV.
.br
\[bu]
Also specify \-\-name for new LV.

.B lvconvert \-\-mirrorlog
LogType
VG/MirrorLV
.br
\[bu]
Change the type of log used by MirrorLV.
.br
\[bu]
See --mirrorlog and --corelog for log types.

.B lvconvert \-\-repair
VG/MirrorLV
.br
\[bu]
Replace failed PVs in MirrorLV.

.B lvconvert \-\-type linear
VG/MirrorLV
.br
\[bu]
Convert MirrorLV to type linear.

.B lvconvert \-\-type raid*
VG/MirrorLV
.br
\[bu]
Convert MirrorLV to type raid*.
.br
\[bu]
See lvmraid(7) for permitted raid levels.

.SS Operations on CachePoolLV with type cache\-pool:

\&

.B lvconvert \-\-splitcache
VG/CachePoolLV
.br
\[bu]
Split the cache LV from CachePoolLV.

.SS Operations on CacheLV with type cache:

\&

.B lvconvert \-\-splitcache
VG/CacheLV
.br
\[bu]
Split and keep the cache pool from CacheLV.

.B lvconvert \-\-uncache
VG/CacheLV
.br
\[bu]
Split and remove the cache pool from CacheLV.

.B lvconvert \-\-splitmirrors
Number
VG/CacheLV
.br
\[bu]
Split images from the mirrored origin of CacheLV to create a new LV.
.br
\[bu]
Operates on mirror or raid1 sub LV.
.br
\[bu]
Also specify \-\-name for new LV, or use \-\-trackchanges.

.B lvconvert \-\-type thin\-pool
VG/CacheLV
.br
\[bu]
Convert CacheLV to type thin-pool.
.br
\[bu]
The CacheLV is used for thin pool data.


.SS Operations on ThinPoolLV with type thin\-pool:

\&

.B lvconvert \-\-splitcache
VG/ThinPoolLV
.br
\[bu]
Split and keep the cache pool from the data portion of ThinPoolLV.
.br
\[bu]
Operates on the data sub LV of the thin pool LV.
.br
\[bu]
The data sub LV of the thin pool must be a cache LV.

.B lvconvert \-\-uncache
VG/ThinPoolLV
.br
\[bu]
Split and remove the cache pool from the data portion of ThinPoolLV.
.br
\[bu]
Operates on the data sub LV of the thin pool LV.
.br
\[bu]
The data sub LV of the thin pool must be a cache LV.

.B lvconvert \-\-type cache
VG/ThinPoolLV
.br
\[bu]
Convert the data portion of ThinPoolLV to type cache.
.br
\[bu]
Operates on the data sub LV of the thin pool LV.

.B lvconvert \-\-repair
VG/ThinPoolLV
.br
\[bu]
Repair ThinPoolLV.

.SS Operations on ThinLV with type thin:

\&

.B lvconvert \-\-merge
VG/ThinLV
.br
\[bu]
Merge ThinLV into its origin LV.
.br
\[bu]
ThinLV must have been created as a snapshot of another thin LV.
.br
\[bu]
FIXME: use --merge-snapshot

.SS Operations on SnapshotLV with type snapshot:

\&

.B lvconvert \-\-splitsnapshot
VG/SnapshotLV
.br
\[bu]
Separate COW snapshot SnapshotLV from its origin LV.

.B lvconvert \-\-merge
VG/SnapshotLV
.br
\[bu]
Merge COW snapshot SnapshotLV into its origin.
.br
\[bu]
FIXME: use --merge-snapshot

.SH OPTIONS
.
See \fBlvm\fP(8) for common options.
.br
.
.HP
.BR \-b ,
.BR \-\-background
.br
Run the daemon in the background.
.
.HP
.BR \-H ,
.BR \-\-cache ,
.BR \-\-type\ cache
.br
Converts logical volume to a cached LV with the use of cache pool
specified with \fB\-\-cachepool\fP.
For more information on cache pool LVs and cache LVs, see \fBlvmcache\fP(7).
.
.HP
.BR \-\-cachepolicy
.IR Policy
.br
Only applicable to cached LVs; see also \fBlvmcache\fP(7). Sets
the cache policy. \fBmq\fP is the basic policy name. \fBsmq\fP is more advanced
version available in newer kernels.
.
.HP
.BR \-\-cachepool
.IR CachePoolLogicalVolume { Name | Path }
.br
This argument is necessary when converting a logical volume to a cache LV.
For more information on cache pool LVs and cache LVs, see \fBlvmcache\fP(7).
.
.HP
.BR \-\-cachesettings
.IB Key = Value
.br
Only applicable to cached LVs; see also \fBlvmcache(7)\fP. Sets
the cache tunable settings. In most use-cases, default values should be adequate.
Special string value \fBdefault\fP switches setting back to its default kernel value
and removes it from the list of settings stored in lvm2 metadata.
.
.HP
.BR \-c ,
.BR \-\-chunksize
.BR \fIChunkSize [ b | B | s | S | k | K | m | M | g | G ]
.br
Gives the size of chunk for snapshot, cache pool and thin pool logical volumes.
Default unit is in kilobytes.
.sp
For snapshots the value must be power of 2 between 4KiB and 512KiB
and the default value is 4.
.sp
For cache the value must be between 32KiB and 1GiB and
the default value is 64.
.sp
For thin pools the value must be between 64KiB and
1GiB and the default value starts with 64 and scales
up to fit the pool metadata size within 128MiB,
if the pool metadata size is not specified.
The value must be a multiple of 64KiB.
(Early kernel support until thin target version 1.4 required the value
to be a power of 2.  Discards weren't supported for non-power of 2 values
until thin target version 1.5.)
.
.HP
.BR \-\-corelog
.br
The optional argument \fB\-\-corelog\fP is the same as specifying
\fB\-\-mirrorlog core\fP.
.
.HP
.BR \-\-discards
.RB { ignore | nopassdown | passdown }
.br
Specifies whether or not discards will be processed by the thin layer in the
kernel and passed down to the Physical Volume.
Options is currently supported only with thin pools.
Default is \fBpassdown\fP.
.
.HP
.BR \-i ,
.BR \-\-interval
.IR Seconds
.br
Report progress as a percentage at regular intervals.
.
.HP
.BR \-\-merge
.br
Merges a snapshot into its origin volume or merges a raid1 image that has
been split from its mirror with \fB\-\-trackchanges\fP back into its mirror.

To check if your kernel supports the snapshot merge feature, look
for 'snapshot-merge' in the output
of \fBdmsetup targets\fP.  If both the origin and snapshot volume are not
open the merge will start immediately.  Otherwise, the merge will start
the first time either the origin or snapshot are activated and both are closed.
Merging a snapshot into an origin that cannot be closed, for example a root
filesystem, is deferred until the next time the origin volume is activated.
When merging starts, the resulting logical volume will have the origin's name,
minor number and UUID.  While the merge is in progress, reads or writes to the
origin appear as they were directed to the snapshot being merged.  When the
merge finishes, the merged snapshot is removed.  Multiple snapshots may
be specified on the commandline or a @tag may be used to specify
multiple snapshots be merged to their respective origin.
.
.HP
.BR \-\-mirrorlog
.RB { disk | core | mirrored }
.br
Specifies the type of log to use.
The default is \fBdisk\fP, which is persistent and requires
a small amount of storage space, usually on a separate device
from the data being mirrored.
\fBCore\fP may be useful for short-lived mirrors: It means the mirror is
regenerated by copying the data from the first device again every
time the device is activated - perhaps, for example, after every reboot.
Using \fBmirrored\fP will create a persistent log that is itself mirrored.
.
.HP
.BR \-m ,
.BR \-\-mirrors
.IR Mirrors
.br
Specifies the degree of the mirror you wish to create.
For example, "\fB\-m 1\fP" would convert the original logical
volume to a mirror volume with 2-sides; that is, a
linear volume plus one copy.  There are two implementations of mirroring
which correspond to the \fBraid1\fP and \fBmirror\fP segment types.  The default
mirroring segment type is \fBraid1\fP.  If the legacy \fBmirror\fP" segment type
is desired, the \fB\-\-type\fP argument must be used to explicitly
select the desired type.  The \fB\-\-mirrorlog\fP and \fB\-\-corelog\fP
options below are only relevant to the legacy \fBmirror\fP segment type.
.
.HP
.BR \-n ,
.BR \-\-name
.IR Name
.br
The name to apply to a logical volume which has been split off from
a mirror logical volume.
.
.HP
.BR \-\-noudevsync
.br
Disables udev synchronisation. The
process will not wait for notification from udev.
It will continue irrespective of any possible udev processing
in the background.  You should only use this if udev is not running
or has rules that ignore the devices LVM2 creates.
.
.HP
.BR \-\-originname
.IR NewExternalOriginVolumeName
.br
The new name for original logical volume, which becomes external origin volume
for a thin logical volume that will use given \fB\-\-thinpool\fP.
.br
Without this option a default name of "lvol<n>" will be generated where
<n> is the LVM internal number of the logical volume.
This volume will be read-only and cannot be further modified as long,
as it is being used as the external origin.
.
.\" .HP
.\" .BR \-\-pooldatasize
.\" .IR PoolDataVolumeSize [ \fBbBsSkKmMgGtTpPeE ]
.\" .br
.\" Sets the size of pool's data logical volume.
.\" The option \fB\-\-size\fP could be still used with thin pools.
.
.HP
.BR \-\-poolmetadata
.IR PoolMetadataLogicalVolume { Name | Path }
.br
Specifies cache or thin pool metadata logical volume.
The size should be in between 2MiB and 16GiB.
Cache pool is specified with the option
\fB\-\-cachepool\fP.
Thin pool is specified with the option
\fB\-\-thinpool\fP.
When the specified pool already exists,
the pool's metadata volume will be swapped with the given LV.
Pool properties (like chunk size, discards or zero)
are preserved by default in this case.
It can be useful for pool metadata repair or its offline resize,
since the metadata volume is available as regular volume for a user with
thin provisioning tools
.BR cache_dump (8),
.BR cache_repair (8),
.BR cache_restore (8),
.BR thin_dump (8),
.BR thin_repair (8)
and
.BR thin_restore (8).
.
.HP
.BR \-\-poolmetadatasize
.BR \fIPoolMetadataSize [ b | B | s | S | k | K | m | M | g | G ]
.br
Sets the size of cache or thin pool's metadata logical volume,
if the pool metadata volume is undefined.
Pool is specified with the option
\fB\-\-cachepool\fP or \fB\-\-thinpool\fP.
For thin pool supported value is in the range between 2MiB and 16GiB.
The default value is estimated with this formula
(Pool_LV_size / Pool_LV_chunk_size * 64b).
Default unit is megabytes.
.
.HP
.BR \-\-poolmetadataspare
.RB { y | n }
.br
Controls creation and maintanence of pool metadata spare logical volume
that will be used for automated pool recovery.
Only one such volume is maintained within a volume group
with the size of the biggest pool metadata volume.
Default is \fBy\fPes.
.
.HP
.BR \-r ,
.BR \-\-readahead
.RB { \fIReadAheadSectors | auto | none }
.br
Sets read ahead sector count of thin pool metadata logical volume.
The default value is \fBauto\fP which allows the kernel to choose
a suitable value automatically.
\fBNone\fP is equivalent to specifying zero.
.
.HP
.BR \-R ,
.BR \-\-regionsize
.IR MirrorLogRegionSize
.br
A mirror is divided into regions of this size (in MB), and the mirror log
uses this granularity to track which regions are in sync.
.
.HP
.BR \-\-repair
.br
Repair a mirror after suffering a disk failure or try to fix thin pool metadata.

The mirror will be brought back into a consistent state.
By default, the original number of mirrors will be
restored if possible.  Specify \fB\-y\fP on the command line to skip
the prompts. Use \fB\-f\fP if you do not want any replacement.
Additionally, you may use \fB\-\-use\-policies\fP to use the device
replacement policy specified in \fBlvm.conf\fP(5),
see \fBactivation/mirror_log_fault_policy\fP or
\fBactivation/mirror_device_fault_policy\fP.

Thin pool repair automates the use of \fBthin_repair\fP(8) tool.
Only inactive thin pool volumes can be repaired.
There is no validation of metadata between kernel and lvm2.
This requires further manual work.
After successfull repair the old unmodified metadata are still
available in "<pool>_meta<n>" LV.
.
.HP
.BR \-\-replace
.IR PhysicalVolume
.br
Remove the specified device (\fIPhysicalVolume\fP) and replace it with one
that is available in the volume group or from the specific list provided.
This option is only available to RAID segment types
(e.g.
.IR raid1 ,
.IR raid5 ,
etc).
.
.HP
.BR \-s ,
.BR \-\-snapshot ,
.BR \-\-type\ snapshot
.br
Recreates a snapshot from constituent logical volumes (or copies of them) after
having been separated using \fB\-\-splitsnapshot\fP.
For this to work correctly, no changes may be made to the contents
of either volume after the split.
.
.HP
.BR \-\-split
.br
Separates \fISplitableLogicalVolume\fP.
Option is agregating various split commands and tries to detect necessary split
operation from its arguments.
.
.HP
.BR \-\-splitcache
.br
Separates \fICacheLogicalVolume\fP from cache pool.
Before the logical volume becomes uncached, cache is flushed.
The cache pool volume is then left unused and
could be used e.g. for caching another volume.
See also the option \fB\-\-uncache\fP for uncaching and removing
cache pool with one command.
.
.HP
.BR \-\-splitmirrors
.IR Images
.br
The number of redundant \fIImages\fP of a mirror to be split off and used
to form a new logical volume.  A name must be supplied for the
newly-split-off logical volume using the \fB\-\-name\fP argument, unless
the \fB\-\-trackchanges\fP argument is given.
.
.HP
.BR \-\-splitsnapshot
.br
Separates \fISnapshotLogicalVolume\fP from its origin.
The volume that is split off contains the chunks that differ from the origin
along with the metadata describing them.  This volume can be wiped and then
destroyed with lvremove.
The inverse of \fB\-\-snapshot\fP.
.
.HP
.BR \-\-stripes
.IR Stripes
.br
Gives the number of stripes.
This is equal to the number of physical volumes to scatter
the logical volume. This does not apply to existing allocated
space, only newly allocated space can be striped.
.
.HP
.BR \-I ,
.BR \-\-stripesize
.IR StripeSize
.br
Gives the number of kilobytes for the granularity of the stripes.
.br
StripeSize must be 2^n (n = 2 to 9) for metadata in LVM1 format.
For metadata in LVM2 format, the stripe size may be a larger
power of 2 but must not exceed the physical extent size.
.
.HP
.BR \-T ,
.BR \-\-thin ,
.BR \-\-type\ thin
.br
Converts the logical volume into a thin logical volume of the thin pool
specified with \fB\-\-thinpool\fP. The original logical volume
\fIExternalOriginLogicalVolume\fP
is renamed into a new read-only logical volume.
For the non-default name for this volume use \fB\-\-originname\fP.
The volume cannot be further modified as long as it is used as an
external origin volume for unprovisioned areas of any thin logical volume.
.
.HP
.BR \-\-thinpool
.IR ThinPoolLogicalVolume { Name | Path }
.br
Specifies or converts logical volume into a thin pool's data volume.
Content of converted volume is lost.
Thin pool's metadata logical volume can be specified with the option
\fB\-\-poolmetadata\fP or allocated with \fB\-\-poolmetadatasize\fP.
See \fBlvmthin\fP(7) for more info about thin provisioning support.
.
.HP
.BR \-\-trackchanges
.br
Used with \fB\-\-splitmirrors\fP on a raid1 device, this tracks changes so
that the read-only detached image can be merged efficiently back into
the mirror later. Only the regions of the detached device where
the data changed get resynchronized.

Please note that this feature is only supported with the new md-based mirror
implementation and not with the original device-mapper mirror implementation.
.
.HP
.BR \-\-type
.IR SegmentType
.br
Used to convert a logical volume to another segment type, like
.BR cache ,
.BR cache-pool ,
.BR raid1 ,
.BR snapshot ,
.BR thin ,
or
.BR thin-pool .
When converting a logical volume to a cache LV, the
\fB\-\-cachepool\fP argument is required.
When converting a logical volume to a thin LV, the
\fB\-\-thinpool\fP argument is required.
See \fBlvmcache\fP(7) for more info about caching support
and \fBlvmthin\fP(7) for thin provisioning support.
.
.HP
.BR \-\-uncache
.br
Uncaches \fICacheLogicalVolume\fP.
Before the volume becomes uncached, cache is flushed.
Unlike with \fB\-\-splitcache\fP the cache pool volume is removed.
This option could be seen as an inverse of \fB\-\-cache\fP.
.
.HP
.BR \-Z ,
.BR \-\-zero
.RB { y | n }
.br
Controls zeroing of the first 4KiB of data in the snapshot.
If the volume is read-only the snapshot will not be zeroed.
For thin pool volumes it controls zeroing of provisioned blocks.
Note: Provisioning of large zeroed chunks negatively impacts performance.
.
.SH Examples
.
Convert a linear LV to a two-way mirror LV:
.br
.B lvconvert \-\-type mirror \-\-mirrors 1 vg/lvol1

Convert a linear LV to a two-way RAID1 LV:
.br
.B lvconvert \-\-type raid1 \-\-mirrors 1 vg/lvol1

Convert a mirror LV to use an in\-memory log:
.br
.B lvconvert \-\-mirrorlog core vg/lvol1

Convert a mirror LV to use a disk log:
.br
.B lvconvert \-\-mirrorlog disk vg/lvol1

Convert a mirror or raid1 LV to a linear LV:
.br
.B lvconvert --type linear vg/lvol1

Convert mirror LV to type raid1 with the same number of images:
.br
.B lvconvert \-\-type raid1 vg/lvol1

Split and merge a COW snapshot:
.br
TODO

Convert a linear LV to a two-way mirror LV, allocating new extents from specific
PV ranges:
.br
.B lvconvert \-\-mirrors 1 vg/lvol1 /dev/sda:0\-15 /dev/sdb:0\-15

Convert a mirror LV to a linear LV, freeing physical extents from a specific PV:
.br
.B lvconvert \-\-type linear vg/lvol1 /dev/sda

Extracts one image from the mirror, making it a new logical volume named
"lv_split".  The mirror the image is extracted from is reduced accordingly.
If it was a 2-way mirror (created with '-m 1'), then the resulting original
volume will be linear.
.sp
.B lvconvert \-\-splitmirrors 1 \-\-name lv_split vg/lvmirror1

A mirrored logical volume created with \-\-type raid1 can use the
\-\-trackchanges argument when splitting off an image.
Detach one image from the mirrored logical volume lv_raid1 as a separate
read-only device and track the changes made to the mirror while it is detached.
The split-off device has a name of the form lv_raid1_rimage_N, where N is
a number, and it cannot be renamed.
.sp
.B lvconvert \-\-splitmirrors 1 \-\-trackchanges vg/lv_raid1

Merge an image that was detached temporarily from its mirror with
the \-\-trackchanges argument back into its original mirror and
bring its contents back up-to-date.
.sp
.B lvconvert \-\-merge vg/lv_raid1_rimage_1

Replaces the physical volume "/dev/sdb1" in the RAID1 logical volume "my_raid1"
with the specified physical volume "/dev/sdf1".  Had the argument "/dev/sdf1"
been left out, lvconvert would attempt to find a suitable device from those
available in the volume group.
.sp
.B lvconvert \-\-replace /dev/sdb1 vg/my_raid1 /dev/sdf1

Convert the logical volume "vg/lvpool" into a thin pool with chunk size 128KiB
and convert "vg/lv1" into a thin volume using this pool. Original "vg/lv1"
is used as an external read-only origin, where all writes to such volume
are stored in the "vg/lvpool".
.sp
.B lvconvert \-\-type thin \-\-thinpool vg/lvpool \-c 128 lv1

Convert the logical volume "vg/origin" into a thin volume from the thin pool
"vg/lvpool". This thin volume will use "vg/origin" as an external origin
volume for unprovisioned areas in this volume.
For the read-only external origin use the new name "vg/external".
.sp
.B lvconvert \-T \-\-thinpool vg/lvpool \-\-originname external vg/origin

Convert an existing logical volume to a cache pool LV using the
given cache metadata LV.
.sp
.B lvconvert \-\-type cache-pool \-\-poolmetadata vg/lvx_meta vg/lvx_data
.br
.B lvrename vg/lvx_data vg/lvx_cachepool
.sp
Convert an existing logical volume to a cache LV using the given
cache pool LV and chunk size 128KiB.
.sp
.B lvconvert \-\-cache \-\-cachepool vg/lvx_cachepool -c 128 vg/lvx
.sp
Detach cache pool from an existing cached logical volume "vg/lvol1" and
leave cache pool unused.
.sp
.B lvconvert \-\-splitcache vg/lvol1
.sp
Drop cache pool from an existing cached logical volume "vg/lvol1".
.sp
.B lvconvert \-\-uncache vg/lvol1

.SH SEE ALSO
.BR lvm (8),
.BR lvm.conf (5),
.BR lvmcache (7),
.BR lvmthin (7),
.BR lvdisplay (8),
.BR lvextend (8),
.BR lvreduce (8),
.BR lvremove (8),
.BR lvrename (8),
.BR lvscan (8),
.BR vgcreate (8),
.BR cache_dump (8),
.BR cache_repair (8),
.BR cache_restore (8),
.BR thin_dump (8),
.BR thin_repair (8),
.BR thin_restore (8)
